# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ë–ï–ó–û–ü–ê–°–ù–û–ì–û –î–ï–ü–õ–û–Ø
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

## ‚úÖ –ß—Ç–æ –£–ñ–ï –≥–æ—Ç–æ–≤–æ (—Å–¥–µ–ª–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):

1. ‚úÖ **docker-compose.yml –∑–∞—â–∏—â—ë–Ω** - –≤—Å–µ —Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ —É–¥–∞–ª–µ–Ω—ã
2. ‚úÖ **.env —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω** —Å —Ç–≤–æ–∏–º–∏ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏
3. ‚úÖ **.gitignore –∑–∞—â–∏—â–∞–µ—Ç** .env –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞
4. ‚úÖ **GitHub Actions workflow —Å–æ–∑–¥–∞–Ω** (.github/workflows/deploy.yml)
5. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞** (GITHUB_SECRETS_SETUP.md)
6. ‚úÖ **.env.example –æ–±–Ω–æ–≤–ª—ë–Ω** —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

## üìã –ß—Ç–æ –ù–£–ñ–ù–û —Å–¥–µ–ª–∞—Ç—å (—Ä—É—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è):

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å .env —Ñ–∞–π–ª
```bash
cat .env
```

–£–±–µ–¥–∏—Å—å —á—Ç–æ —Ç–∞–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- ‚úÖ TELEGRAM_TOKEN=7985970901:AAH-hi9JBY56RW5IsLas9ztOsXtqgwrcCA0
- ‚úÖ TELEGRAM_CHAT_ID=959125046
- ‚úÖ POSTGRES_PASSWORD=gjfkldlkf9859434502fjdManjf87
- ‚úÖ AR_POSTGRES_PASSWORD=hjhYtjkgkfdMjhsd^jhfjdjsds

### –®–∞–≥ 2: –î–æ–±–∞–≤—å —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub

–ó–∞–π–¥–∏ –Ω–∞ GitHub: https://github.com/vitaligiovanni/PhotoBooksGallery/settings/secrets/actions

–ù–∞–∂–º–∏ **"New repository secret"** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ:

```
SSH_PRIVATE_KEY     = [—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–≤–æ–µ–≥–æ ~/.ssh/id_rsa]
SERVER_HOST         = photobooksgallery.am
SERVER_USER         = root
SERVER_PATH         = /root/photobooks
POSTGRES_PASSWORD   = gjfkldlkf9859434502fjdManjf87
AR_POSTGRES_PASSWORD = hjhYtjkgkfdMjhsd^jhfjdjsds
TELEGRAM_TOKEN      = 7985970901:AAH-hi9JBY56RW5IsLas9ztOsXtqgwrcCA0
TELEGRAM_CHAT_ID    = 959125046
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ .env –ù–ï –≤ git

```bash
git status
```

–ï—Å–ª–∏ –≤–∏–¥–∏—à—å `.env` –≤ —Å–ø–∏—Å–∫–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π - –°–¢–û–ü! –û–Ω –Ω–µ –¥–æ–ª–∂–µ–Ω —Ç—É–¥–∞ –ø–æ–ø–∞—Å—Ç—å!

### –®–∞–≥ 4: –ó–∞–∫–æ–º–º–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

```bash
git add .github/workflows/deploy.yml docker-compose.yml .env.example GITHUB_SECRETS_SETUP.md CHECKLIST.md
git commit -m "feat: –±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ GitHub Actions"
git push origin main
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π

1. –ó–∞–π–¥–∏ –Ω–∞ GitHub Actions: https://github.com/vitaligiovanni/PhotoBooksGallery/actions
2. –£–≤–∏–¥–∏—à—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–π workflow "üöÄ Deploy to Production Server"
3. –ü–æ–ª—É—á–∏—à—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram –æ —Å—Ç–∞—Ç—É—Å–µ
4. –ß–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã –ø—Ä–æ–≤–µ—Ä—å —Å–∞–π—Ç: https://photobooksgallery.am

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞:

‚úÖ –ü–∞—Ä–æ–ª–∏ —Ç–æ–ª—å–∫–æ –≤ .env (–ª–æ–∫–∞–ª—å–Ω–æ) –∏ GitHub Secrets (–æ–±–ª–∞–∫–æ)
‚úÖ .env –¥–æ–±–∞–≤–ª–µ–Ω –≤ .gitignore –∏ –ù–ï –ø–æ–ø–∞–¥—ë—Ç –≤ –∫–æ–º–º–∏—Ç
‚úÖ docker-compose.yml —Ç—Ä–µ–±—É–µ—Ç .env (—É–ø–∞–¥—ë—Ç –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç)
‚úÖ –ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π –≤ –∫–æ–¥–µ
‚úÖ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–µ–ø–ª–æ–µ
‚úÖ SSH –∫–ª—é—á –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É

## üöÄ –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫:

1. –¢—ã –ø—É—à–∏—à—å –≤ main ‚Üí GitHub Actions –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
2. –ö–æ–¥ —É–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç—Å—è –≤ –∞—Ä—Ö–∏–≤ (–±–µ–∑ node_modules, .env, –º—É—Å–æ—Ä–∞)
3. –ê—Ä—Ö–∏–≤ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ SSH
4. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è .env –∏–∑ GitHub Secrets
5. Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—é—Ç—Å—è
6. –°—Ç–∞—Ä—ã–µ –æ–±—Ä–∞–∑—ã —É–¥–∞–ª—è—é—Ç—Å—è
7. –¢—ã –ø–æ–ª—É—á–∞–µ—à—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ù—è–Ω—å–∫–∏

```bash
python nanny.py
```

–ù—è–Ω—å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç .env –¥–ª—è Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

## ‚ö†Ô∏è –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

### .env —Å–ª—É—á–∞–π–Ω–æ –ø–æ–ø–∞–ª –≤ –∫–æ–º–º–∏—Ç:
```bash
# –£–¥–∞–ª–∏ –∏–∑ –∏–Ω–¥–µ–∫—Å–∞
git rm --cached .env
git commit -m "fix: remove .env from git"
git push

# –°–º–µ–Ω–∏ –í–°–ï –ø–∞—Ä–æ–ª–∏ –≤ .env
# –û–±–Ω–æ–≤–∏ GitHub Secrets –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏
```

### –î–µ–ø–ª–æ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å GitHub Actions –ª–æ–≥–∏
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å–µ 8 —Å–µ–∫—Ä–µ—Ç–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ GitHub
3. –ü—Ä–æ–≤–µ—Ä—å SSH –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É: `ssh root@photobooksgallery.am`
4. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: `docker compose logs -f`

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä—å .env
cat .env

# –ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç - —Å–æ–∑–¥–∞–π –≤—Ä—É—á–Ω—É—é —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose down
docker compose up -d
```

---
**–í—Å—ë –≥–æ—Ç–æ–≤–æ! –ú–æ–∂–µ—à—å –∫–æ–º–º–∏—Ç–∏—Ç—å –∏ –ø—É—à–∏—Ç—å! üöÄ**
