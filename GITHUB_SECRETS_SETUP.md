# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# üîê –ë–ï–ó–û–ü–ê–°–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê –°–ï–ö–†–ï–¢–û–í –î–õ–Ø GITHUB ACTIONS
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–≠—Ç–æ—Ç –≥–∞–π–¥ –ø–æ–º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub –±–µ–∑ —É—Ç–µ—á–∫–∏ –ø–∞—Ä–æ–ª–µ–π.

## üìã –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub

–ó–∞–π–¥–∏ –Ω–∞ GitHub –≤ —Å–≤–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
1. **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
2. –ù–∞–∂–º–∏ **"New repository secret"** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–∫—Ä–µ—Ç–∞:

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã:

```
–ò–º—è: SSH_PRIVATE_KEY
–ó–Ω–∞—á–µ–Ω–∏–µ: –¢–≤–æ–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É (—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ ~/.ssh/id_rsa)

–ò–º—è: SERVER_HOST
–ó–Ω–∞—á–µ–Ω–∏–µ: photobooksgallery.am (–∏–ª–∏ IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞)

–ò–º—è: SERVER_USER  
–ó–Ω–∞—á–µ–Ω–∏–µ: root (–∏–ª–∏ —Ç–≤–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

–ò–º—è: SERVER_PATH
–ó–Ω–∞—á–µ–Ω–∏–µ: /root/photobooks (–ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

–ò–º—è: POSTGRES_PASSWORD
–ó–Ω–∞—á–µ–Ω–∏–µ: [–¢–í–û–ô_–ü–ê–†–û–õ–¨_–î–õ–Ø_–û–°–ù–û–í–ù–û–ô_–ë–î]

–ò–º—è: AR_POSTGRES_PASSWORD
–ó–Ω–∞—á–µ–Ω–∏–µ: [–¢–í–û–ô_–ü–ê–†–û–õ–¨_–î–õ–Ø_AR_–ë–î]

–ò–º—è: TELEGRAM_TOKEN
–ó–Ω–∞—á–µ–Ω–∏–µ: [–¢–í–û–ô_TELEGRAM_BOT_TOKEN]

–ò–º—è: TELEGRAM_CHAT_ID
–ó–Ω–∞—á–µ–Ω–∏–µ: [–¢–í–û–ô_TELEGRAM_CHAT_ID]
```

## üìã –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å .env –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

–°–∫–æ–ø–∏—Ä—É–π `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:

```bash
cp .env.example .env
```

–ó–∞—Ç–µ–º –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π `.env` (—ç—Ç–æ—Ç —Ñ–∞–π–ª –ù–ï –±—É–¥–µ—Ç –∑–∞–∫–æ–º–º–∏—á–µ–Ω –±–ª–∞–≥–æ–¥–∞—Ä—è .gitignore):

```env
POSTGRES_DB=photobooks_db
POSTGRES_USER=photobooks
POSTGRES_PASSWORD=—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å_–æ—Å–Ω–æ–≤–Ω–æ–π_–±–¥
DATABASE_URL=postgresql://photobooks:—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å_–æ—Å–Ω–æ–≤–Ω–æ–π_–±–¥@db:5432/photobooks_db

AR_POSTGRES_PASSWORD=—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å_ar_–±–¥
AR_DATABASE_URL=postgresql://photobooks:—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å_ar_–±–¥@ar-db:5432/ar_db

DOMAIN=photobooksgallery.am
FRONTEND_URL=https://photobooksgallery.am
API_URL=https://photobooksgallery.am
ALLOWED_ORIGINS=https://photobooksgallery.am

TELEGRAM_TOKEN=—Ç–≤–æ–π_—Ç–µ–ª–µ–≥—Ä–∞–º_—Ç–æ–∫–µ–Ω
TELEGRAM_CHAT_ID=—Ç–≤–æ–π_—á–∞—Ç_id
```

## üìã –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ .gitignore –∑–∞—â–∏—â–∞–µ—Ç —Å–µ–∫—Ä–µ—Ç—ã

–£–±–µ–¥–∏—Å—å —á—Ç–æ `.gitignore` —Å–æ–¥–µ—Ä–∂–∏—Ç:

```gitignore
.env
.env.*
!.env.example
```

–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ .env –ù–ï –ø–æ–ø–∞–¥—ë—Ç –≤ –∫–æ–º–º–∏—Ç:

```bash
git status
# .env –ù–ï –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```

## üìã –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–æ–±–∞–≤—å —Å–≤–æ–π –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤ `~/.ssh/authorized_keys`:

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
cat ~/.ssh/id_rsa.pub

# –°–∫–æ–ø–∏—Ä—É–π –≤—ã–≤–æ–¥ –∏ –¥–æ–±–∞–≤—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–∞–π–ª
nano ~/.ssh/authorized_keys
```

## üìã –®–∞–≥ 5: –¢–µ—Å—Ç–æ–≤—ã–π –¥–µ–ø–ª–æ–π

1. **–ó–∞–∫–æ–º–º–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
   ```bash
   git add .github/workflows/deploy.yml docker-compose.yml .env.example
   git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ GitHub Actions"
   git push origin main
   ```

2. **GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç –¥–µ–ø–ª–æ–π!**
   - –ó–∞–π–¥–∏ –≤ **Actions** –Ω–∞ GitHub
   - –£–≤–∏–¥–∏—à—å –ø—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - –ü–æ–ª—É—á–∏—à—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram

3. **–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å —Å–∞–π—Ç:**
   ```
   https://photobooksgallery.am
   ```

## üîí –ß—Ç–æ –∑–∞—â–∏—â–µ–Ω–æ:

‚úÖ –í—Å–µ –ø–∞—Ä–æ–ª–∏ —Ç–æ–ª—å–∫–æ –≤ GitHub Secrets (–Ω–µ –≤ –∫–æ–¥–µ)
‚úÖ `.env` —Ñ–∞–π–ª –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è Git
‚úÖ Docker —Ç—Ä–µ–±—É–µ—Ç .env (—É–ø–∞–¥—ë—Ç –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç)
‚úÖ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –¥–µ–ø–ª–æ—è
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ main

## üö® –ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å —É—Ç—ë–∫ –≤ –∏—Å—Ç–æ—Ä–∏—é Git:

1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–º–µ–Ω–∏ –ø–∞—Ä–æ–ª—å –≤ –ë–î
2. –û–±–Ω–æ–≤–∏ GitHub Secrets
3. –û—á–∏—Å—Ç–∏ –∏—Å—Ç–æ—Ä–∏—é Git:
   ```bash
   # –£—Å—Ç–∞–Ω–æ–≤–∏ git-filter-repo
   pip install git-filter-repo
   
   # –£–¥–∞–ª–∏ —Ñ–∞–π–ª –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
   git filter-repo --path .env --invert-paths
   
   # –§–æ—Ä—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π push (–û–ü–ê–°–ù–û!)
   git push origin --force --all
   ```

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ù—è–Ω—å–∫–∏ (nanny.py)

–ù—è–Ω—å–∫–∞ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ `.env`:

```bash
# –°–æ–∑–¥–∞–π .env —Å TELEGRAM_TOKEN –∏ TELEGRAM_CHAT_ID
python nanny.py
```

–ù—è–Ω—å–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏ –±—É–¥–µ—Ç —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ø—Ä–æ–µ–∫—Ç–æ–º.

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞:
- –ü–∞—Ä–æ–ª–∏ —Ç–æ–ª—å–∫–æ –≤ GitHub Secrets –∏ –ª–æ–∫–∞–ª—å–Ω–æ–º .env
- –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub Actions
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
- –ù–∏–∫–∞–∫–∏—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ Git –∏—Å—Ç–æ—Ä–∏–∏

---
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-29
**–ê–≤—Ç–æ—Ä:** GitHub Copilot
