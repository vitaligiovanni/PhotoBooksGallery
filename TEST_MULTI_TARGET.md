# üß™ –¢–µ—Å—Ç multi-target AR (Quick Start)

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

**–í–µ—Ç–∫–∞:** `feature/multi-target-activation`  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –ó–∞–º–µ–Ω—ë–Ω fallback `marker-0.mind` ‚Üí `targets.mind`
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω `compileMultiTargetMindFile()` –∏–∑ ar-compiler-v2
- ‚úÖ –í—Å–µ —Ñ–æ—Ç–æ —Ç–µ–ø–µ—Ä—å –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –≤ –û–î–ò–ù —Ñ–∞–π–ª
- ‚úÖ Backward compatibility: single-photo –ø—Ä–æ–µ–∫—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç

### 1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –≤–µ—Ç–∫—É
```powershell
git checkout feature/multi-target-activation
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å backend
```powershell
cd backend
npm run dev
```

### 3. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π multi-target –ø—Ä–æ–µ–∫—Ç

**–ß–µ—Ä–µ–∑ UI:**
1. –û—Ç–∫—Ä—ã—Ç—å `http://localhost:3000/admin/ar-edit`
2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π AR –ø—Ä–æ–µ–∫—Ç
3. –í —Å–µ–∫—Ü–∏–∏ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–≤—ã–º–∏ —Ñ–æ—Ç–æ (Multi-target)" –¥–æ–±–∞–≤–∏—Ç—å:
   - Item 0: photo1.jpg + video1.mp4
   - Item 1: photo2.jpg + video2.mp4
   - Item 2: photo3.jpg + video3.mp4
4. –ù–∞–∂–∞—Ç—å "–ù–∞—á–∞—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é"

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–í —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ:**
```powershell
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–∞–π–ª targets.mind (–ù–ï marker-0.mind!)
ls backend/objects/ar-storage/{projectId}/targets.mind

# –†–∞–∑–º–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ~1.3 MB –¥–ª—è 3 —Ñ–æ—Ç–æ
```

**–í –ª–æ–≥–∞—Ö backend:**
```
[AR Compiler Multi] üì∏ Preparing 3 photos for multi-target compilation...
[AR Compiler Multi] üéØ Compiling 3 photos into single targets.mind file...
[AR Compiler v2] üì∏ Loading 3 images...
[AR Compiler v2] üîÑ Multi-target progress: 10.0%
...
[AR Compiler v2] ‚úÖ Multi-target SUCCESS! Created targets.mind
  - Targets: 3
  - Size: 1305.6 KB
  - Time: 87.2s
[AR Compiler Multi] ‚úÖ All 3 targets compiled into single targets.mind
```

### 5. –¢–µ—Å—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º

1. –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥
2. –†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–∞–º–µ—Ä–µ
3. –ù–∞–≤–µ—Å—Ç–∏ –Ω–∞ photo1.jpg ‚Üí video1 –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è
4. –ù–∞–≤–µ—Å—Ç–∏ –Ω–∞ photo2.jpg ‚Üí video2 –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è **–ë–ï–ó –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞–º–µ—Ä—ã!**
5. –ù–∞–≤–µ—Å—Ç–∏ –Ω–∞ photo3.jpg ‚Üí video3 –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è

---

## ‚ö†Ô∏è Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π
```
Error: Cannot find module './ar-compiler-v2'
```

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
cd backend
npm install  # –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è marker-0.mind –≤–º–µ—Å—Ç–æ targets.mind
```
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –≤–µ—Ç–∫–µ
git branch  # –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å * feature/multi-target-activation

# –ï—Å–ª–∏ –Ω–µ—Ç, –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è
git checkout feature/multi-target-activation
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–∞–º–µ—Ä–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ iPhone
**–ü—Ä–∏—á–∏–Ω–∞:** iOS —Ç—Ä–µ–±—É–µ—Ç HTTPS –¥–ª—è getUserMedia API

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
# –ó–∞–ø—É—Å—Ç–∏—Ç—å ngrok –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
ngrok http 3000

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å HTTPS URL (–Ω–∞–ø—Ä–∏–º–µ—Ä https://abc123.ngrok.io)
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∞–π—Ç—É
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
backend/objects/ar-storage/{projectId}/
‚îú‚îÄ‚îÄ targets.mind          ‚Üê –ù–û–í–û–ï! (–≤–º–µ—Å—Ç–æ marker-0.mind)
‚îú‚îÄ‚îÄ index.html            ‚Üê –û–±–Ω–æ–≤–ª—ë–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç ./targets.mind)
‚îú‚îÄ‚îÄ qr-code.png
‚îú‚îÄ‚îÄ video-0.mp4
‚îú‚îÄ‚îÄ video-1.mp4
‚îî‚îÄ‚îÄ video-2.mp4
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **–ö–æ–º–ø–∏–ª—è—Ü–∏—è 3 —Ñ–æ—Ç–æ:** ~90 —Å–µ–∫—É–Ω–¥ (–≤–º–µ—Å—Ç–æ 216 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö marker-N.mind)
- **–†–∞–∑–º–µ—Ä targets.mind:** ~1.3 MB –¥–ª—è 3 —Ñ–æ—Ç–æ (436 KB √ó 3)
- **–ó–∞–≥—Ä—É–∑–∫–∞ viewer:** –ë—ã—Å—Ç—Ä–µ–µ (1 —Ñ–∞–π–ª –≤–º–µ—Å—Ç–æ 3)

### User Experience:
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ—Ä–∂–∏—Ç —Ç–µ–ª–µ—Ñ–æ–Ω, –ø–µ—Ä–µ–ª–∏—Å—Ç—ã–≤–∞–µ—Ç —Ñ–æ—Ç–æ–∫–Ω–∏–≥—É
- ‚úÖ –í–∏–¥–µ–æ –≤—Å–ø–ª—ã–≤–∞–µ—Ç –Ω–∞ –∫–∞–∂–¥–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ù–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞–º–µ—Ä—ã –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
- ‚úÖ –ù–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã—Ö QR-–∫–æ–¥–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–æ—Ç–æ

---

## üîÑ –û—Ç–∫–∞—Ç

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫:

```powershell
# –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ master (—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è —Å fallback)
git checkout master

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend
cd backend
npm run dev
```

**–í–ê–ñ–ù–û:** –ü—Ä–æ–µ–∫—Ç—ã —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å `targets.mind` –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ master –≤–µ—Ç–∫–µ!

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

**–¢–µ—Å—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–º, –µ—Å–ª–∏:**
- [ ] –§–∞–π–ª `targets.mind` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è (–ù–ï `marker-0.mind`)
- [ ] –í—Å–µ 3 —Ñ–æ—Ç–æ —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è –∫–∞–º–µ—Ä–æ–π
- [ ] –í–∏–¥–µ–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞–º–µ—Ä—ã
- [ ] –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç ~90 —Å–µ–∫—É–Ω–¥ (–≤–º–µ—Å—Ç–æ 216)
- [ ] Single-photo –ø—Ä–æ–µ–∫—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞:**
```powershell
# –ú–µ—Ä–¥–∂ –≤ master
git checkout master
git merge feature/multi-target-activation
git push
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

**–í–æ–ø—Ä–æ—Å—ã:** –û—Ç–∫—Ä—ã—Ç—å issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏  
**–ë–∞–≥–∏:** –û–ø–∏—Å–∞—Ç—å –≤ MULTI_TARGET_ACTIVATION_LOG.md  
**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:** GitHub Copilot (Claude Sonnet 4.5)
